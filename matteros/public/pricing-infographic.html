<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MatterOS Partner Brief - Immigration Risk Control</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap");

      :root {
        --bg: #eef3f8;
        --bg-soft: #f8fbff;
        --panel: #ffffff;
        --line: #c6d2e3;
        --text: #102033;
        --muted: #52677f;
        --primary: #0a58de;
        --primary-soft: #dbe8ff;
        --accent: #00a87b;
        --warn: #c67600;
        --danger: #bf2f2f;
        --shadow: 0 20px 42px rgba(16, 36, 62, 0.12);
      }

      html[data-theme="dark"] {
        --bg: #09101a;
        --bg-soft: #111a2a;
        --panel: #0f1927;
        --line: #23344d;
        --text: #e7f0fc;
        --muted: #9bb2ca;
        --primary: #76adff;
        --primary-soft: #1a345a;
        --accent: #36dcb0;
        --warn: #ffb347;
        --danger: #ff7777;
        --shadow: 0 24px 50px rgba(0, 0, 0, 0.36);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Space Grotesk", "Avenir Next", "Segoe UI", sans-serif;
        color: var(--text);
        background: radial-gradient(circle at 0% 0%, #d8e9ff 0%, transparent 45%),
          radial-gradient(circle at 100% 0%, #dcfce8 0%, transparent 35%), var(--bg);
        min-height: 100vh;
      }

      html[data-theme="dark"] body {
        background: radial-gradient(circle at 0% 0%, #153156 0%, transparent 42%),
          radial-gradient(circle at 100% 0%, #12352b 0%, transparent 35%), var(--bg);
      }

      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 1.1rem 3rem;
      }

      .topbar {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .eyebrow {
        font-family: "IBM Plex Mono", monospace;
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--primary);
      }

      h1 {
        margin: 0.25rem 0 0.55rem;
        font-size: clamp(1.5rem, 3.8vw, 2.65rem);
        line-height: 1.07;
        max-width: 900px;
      }

      .subtitle {
        margin: 0;
        color: var(--muted);
        max-width: 900px;
        font-size: 1.01rem;
      }

      .theme-btn {
        border: 1px solid var(--line);
        background: var(--panel);
        border-radius: 999px;
        padding: 0.52rem 0.95rem;
        color: var(--text);
        font-family: "IBM Plex Mono", monospace;
        font-size: 0.77rem;
        cursor: pointer;
      }

      .hero-grid {
        margin-top: 1rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
        gap: 0.75rem;
      }

      .hero-card {
        border: 1px solid var(--line);
        border-radius: 14px;
        background: linear-gradient(145deg, var(--panel), var(--bg-soft));
        padding: 0.82rem;
        box-shadow: var(--shadow);
      }

      .hero-card .k {
        font-family: "IBM Plex Mono", monospace;
        color: var(--muted);
        font-size: 0.7rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }

      .hero-card .v {
        margin-top: 0.2rem;
        font-size: 1.35rem;
        font-weight: 700;
      }

      .hero-card .t {
        margin-top: 0.24rem;
        color: var(--muted);
        font-size: 0.8rem;
      }

      .section {
        margin-top: 1rem;
        border: 1px solid var(--line);
        border-radius: 18px;
        background: var(--panel);
        box-shadow: var(--shadow);
        padding: 1rem;
      }

      .section h2 {
        margin: 0;
        font-size: 1.14rem;
      }

      .section p.muted {
        margin: 0.35rem 0 0;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .grid-2 {
        margin-top: 0.85rem;
        display: grid;
        grid-template-columns: 1.1fr 0.95fr;
        gap: 0.85rem;
      }

      .panel {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: var(--bg-soft);
        padding: 0.8rem;
      }

      .field {
        margin: 0.62rem 0;
      }

      .field label {
        display: block;
        color: var(--muted);
        font-size: 0.79rem;
      }

      .field output {
        margin-left: 0.4rem;
        color: var(--primary);
        font-family: "IBM Plex Mono", monospace;
      }

      input[type="range"] {
        margin-top: 0.32rem;
        width: 100%;
      }

      .metric-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(120px, 1fr));
        gap: 0.55rem;
      }

      .metric {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: var(--panel);
        padding: 0.56rem;
      }

      .metric .label {
        font-size: 0.72rem;
        color: var(--muted);
      }

      .metric .value {
        margin-top: 0.18rem;
        font-size: 1.03rem;
        font-weight: 700;
      }

      .metric .value.danger {
        color: var(--danger);
      }

      .metric .value.warn {
        color: var(--warn);
      }

      .bar-wrap {
        margin-top: 0.8rem;
        border: 1px solid var(--line);
        border-radius: 12px;
        background: var(--panel);
        padding: 0.55rem;
      }

      .bar-row {
        display: grid;
        grid-template-columns: 120px 1fr 100px;
        gap: 0.45rem;
        align-items: center;
        margin: 0.35rem 0;
      }

      .bar-label {
        font-size: 0.75rem;
        color: var(--muted);
      }

      .bar-track {
        position: relative;
        border: 1px solid var(--line);
        border-radius: 999px;
        height: 16px;
        overflow: hidden;
      }

      .bar-fill {
        position: absolute;
        inset: 0;
        width: 0%;
        border-radius: 999px;
      }

      .bar-fill.loss {
        background: linear-gradient(90deg, #ef6565, #ff9898);
      }

      .bar-fill.rework {
        background: linear-gradient(90deg, #eda03a, #ffd27f);
      }

      .bar-fill.time {
        background: linear-gradient(90deg, #5f8de4, #88b0ff);
      }

      .bar-value {
        font-family: "IBM Plex Mono", monospace;
        font-size: 0.72rem;
        text-align: right;
        color: var(--muted);
      }

      .controls-list {
        margin-top: 0.8rem;
        display: grid;
        gap: 0.52rem;
      }

      .control {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.62rem;
        background: var(--bg-soft);
        cursor: pointer;
      }

      .control.active {
        border-color: var(--primary);
        background: var(--primary-soft);
      }

      .control .title {
        font-size: 0.86rem;
      }

      .control .title strong {
        color: var(--text);
      }

      .control .meta {
        margin-top: 0.18rem;
        font-size: 0.75rem;
        color: var(--muted);
      }

      .callout {
        margin-top: 0.72rem;
        border: 1px solid var(--line);
        border-radius: 12px;
        background: var(--panel);
        padding: 0.66rem;
      }

      .callout h3 {
        margin: 0;
        font-size: 0.95rem;
      }

      .callout p {
        margin: 0.32rem 0 0;
        color: var(--muted);
        font-size: 0.83rem;
      }

      .table {
        margin-top: 0.75rem;
        border: 1px solid var(--line);
        border-radius: 12px;
        overflow: hidden;
      }

      .row {
        display: grid;
        grid-template-columns: 1.05fr 1fr 1fr;
      }

      .row > div {
        border-bottom: 1px solid var(--line);
        padding: 0.56rem;
        font-size: 0.79rem;
      }

      .row:last-child > div {
        border-bottom: 0;
      }

      .row.head {
        background: var(--bg-soft);
        font-weight: 600;
      }

      .row.head > div {
        color: var(--muted);
        font-size: 0.74rem;
        text-transform: uppercase;
        letter-spacing: 0.07em;
      }

      .cell-saas {
        color: var(--warn);
      }

      .cell-bridge {
        color: var(--accent);
      }

      .sim-grid {
        margin-top: 0.85rem;
        display: grid;
        grid-template-columns: 1fr 0.95fr;
        gap: 0.85rem;
      }

      .calc {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: var(--panel);
        padding: 0.75rem;
      }

      .calc .k {
        color: var(--muted);
        font-size: 0.75rem;
      }

      .calc .v {
        margin-top: 0.2rem;
        font-size: clamp(1.42rem, 3vw, 2.05rem);
        font-weight: 700;
      }

      .calc .note {
        margin-top: 0.25rem;
        font-size: 0.82rem;
        color: var(--muted);
      }

      .tier-list {
        margin-top: 0.7rem;
        display: grid;
        gap: 0.45rem;
      }

      .tier {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.45rem 0.55rem;
        background: var(--bg-soft);
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
      }

      .tier.active {
        border-color: var(--accent);
        background: rgba(0, 168, 123, 0.14);
      }

      .track-pills {
        margin-top: 0.7rem;
        display: flex;
        gap: 0.45rem;
        flex-wrap: wrap;
      }

      .pill {
        border: 1px solid var(--line);
        border-radius: 999px;
        background: var(--panel);
        font-family: "IBM Plex Mono", monospace;
        font-size: 0.72rem;
        padding: 0.32rem 0.6rem;
        cursor: pointer;
      }

      .pill.active {
        border-color: var(--primary);
        color: var(--primary);
        background: var(--primary-soft);
      }

      .talk-track {
        margin-top: 0.72rem;
        border: 1px solid var(--line);
        border-radius: 12px;
        background: var(--bg-soft);
        padding: 0.78rem;
      }

      .talk-track h3 {
        margin: 0;
        font-size: 0.93rem;
      }

      .talk-track p {
        margin: 0.38rem 0 0;
        color: var(--muted);
        font-size: 0.84rem;
      }

      .footer {
        margin-top: 0.85rem;
        color: var(--muted);
        font-size: 0.76rem;
      }

      @media (max-width: 980px) {
        .grid-2,
        .sim-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 740px) {
        .metric-grid {
          grid-template-columns: 1fr;
        }

        .bar-row {
          grid-template-columns: 1fr;
          gap: 0.22rem;
        }

        .bar-value {
          text-align: left;
        }

        .row {
          grid-template-columns: 1fr;
        }

        .row.head {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <main class="wrap">
      <section>
        <div class="topbar">
          <div>
            <div class="eyebrow">Audience View - Immigration Law Partners</div>
            <h1>Show Partners What They Are Already Paying for Policy Volatility</h1>
            <p class="subtitle">
              MatterOS is not a practice management app. It is the operational risk control layer that helps immigration
              firms make explainable decisions faster, with less malpractice exposure and less partner firefighting.
            </p>
          </div>
          <button class="theme-btn" id="themeBtn" type="button">Toggle dark mode</button>
        </div>

        <div class="hero-grid">
          <article class="hero-card">
            <div class="k">Positioning Line</div>
            <div class="v">Risk Infrastructure</div>
            <div class="t">Command Bridge for legal decision control, not generic SaaS.</div>
          </article>
          <article class="hero-card">
            <div class="k">Economic Premise</div>
            <div class="v">25-50% Capture</div>
            <div class="t">Risk prevention software captures more value than productivity software.</div>
          </article>
          <article class="hero-card">
            <div class="k">Pricing Story</div>
            <div class="v">$25K-$300K+</div>
            <div class="t">Aligned to mission-critical loss prevention, not seat count.</div>
          </article>
          <article class="hero-card">
            <div class="k">Client Promise</div>
            <div class="v">Explainable Decisions</div>
            <div class="t">Immutable policy snapshots and event ledger for retroactive audit proof.</div>
          </article>
        </div>
      </section>

      <section class="section">
        <h2>1) Partner Pain Mirror: Annual Exposure Model</h2>
        <p class="muted">
          Use this live in meetings. Let partners set their own firm profile, then show what policy drift and late risk
          discovery likely cost them each year.
        </p>

        <div class="grid-2">
          <div class="panel">
            <div class="field">
              <label for="mattersRange">Annual active matters <output id="mattersOut"></output></label>
              <input id="mattersRange" type="range" min="120" max="3200" step="20" value="900" />
            </div>
            <div class="field">
              <label for="feeRange">Average fee per matter <output id="feeOut"></output></label>
              <input id="feeRange" type="range" min="2000" max="22000" step="250" value="7500" />
            </div>
            <div class="field">
              <label for="sensitiveRange">Policy-sensitive matter share <output id="sensitiveOut"></output></label>
              <input id="sensitiveRange" type="range" min="15" max="95" step="1" value="62" />
            </div>
            <div class="field">
              <label for="incidentRateRange">Late/missed risk incidents per 100 matters <output id="incidentRateOut"></output></label>
              <input id="incidentRateRange" type="range" min="1" max="18" step="1" value="5" />
            </div>
            <div class="field">
              <label for="incidentCostRange">Average cost per incident <output id="incidentCostOut"></output></label>
              <input id="incidentCostRange" type="range" min="15000" max="260000" step="5000" value="90000" />
            </div>
          </div>

          <div class="panel">
            <div class="metric-grid">
              <div class="metric">
                <div class="label">At-risk matters</div>
                <div class="value" id="atRiskMatters"></div>
              </div>
              <div class="metric">
                <div class="label">Expected incidents/year</div>
                <div class="value" id="incidentsPerYear"></div>
              </div>
              <div class="metric">
                <div class="label">Partner firefighting hours</div>
                <div class="value warn" id="firefightingHours"></div>
              </div>
              <div class="metric">
                <div class="label">Preventable annual exposure</div>
                <div class="value danger" id="preventableExposure"></div>
              </div>
            </div>

            <div class="bar-wrap">
              <div class="bar-row">
                <div class="bar-label">Incident loss</div>
                <div class="bar-track"><div id="incidentBar" class="bar-fill loss"></div></div>
                <div id="incidentBarValue" class="bar-value"></div>
              </div>
              <div class="bar-row">
                <div class="bar-label">Rework leakage</div>
                <div class="bar-track"><div id="reworkBar" class="bar-fill rework"></div></div>
                <div id="reworkBarValue" class="bar-value"></div>
              </div>
              <div class="bar-row">
                <div class="bar-label">Partner time drain</div>
                <div class="bar-track"><div id="timeBar" class="bar-fill time"></div></div>
                <div id="timeBarValue" class="bar-value"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>2) Mechanism to Outcome Proof</h2>
        <p class="muted">
          Speak in this pattern: operational trigger -> MatterOS control -> partner-level outcome.
        </p>

        <div class="grid-2">
          <div id="controlsList" class="controls-list"></div>
          <aside class="callout">
            <h3 id="controlTitle">Policy shift is detected after a clearance decision</h3>
            <p id="controlBody">
              MatterOS automatically anchors that decision to the active policy snapshot and event ledger so the firm can
              explain why the decision was reasonable at the time.
            </p>
          </aside>
        </div>
      </section>

      <section class="section">
        <h2>3) Category Reframe: Why MatterOS Is Not Another SaaS Vendor</h2>
        <p class="muted">
          Move the conversation from software features to firm continuity and partner risk transfer.
        </p>

        <div class="table">
          <div class="row head">
            <div>Decision Lens</div>
            <div>Typical Legal SaaS</div>
            <div>MatterOS Command Bridge</div>
          </div>
          <div class="row">
            <div><strong>System role</strong></div>
            <div class="cell-saas">Organizes work artifacts</div>
            <div class="cell-bridge">Controls operational risk and decision integrity</div>
          </div>
          <div class="row">
            <div><strong>Value trigger</strong></div>
            <div class="cell-saas">Productivity and convenience</div>
            <div class="cell-bridge">Prevention of catastrophic legal and reputational loss</div>
          </div>
          <div class="row">
            <div><strong>Evidence standard</strong></div>
            <div class="cell-saas">Activity history</div>
            <div class="cell-bridge">Immutable event ledger + policy snapshot traceability</div>
          </div>
          <div class="row">
            <div><strong>Partner conversation</strong></div>
            <div class="cell-saas">"Can staff work faster?"</div>
            <div class="cell-bridge">"Can we defend every decision under policy volatility?"</div>
          </div>
          <div class="row">
            <div><strong>Pricing anchor</strong></div>
            <div class="cell-saas">Per-seat tooling budget</div>
            <div class="cell-bridge">Risk-adjusted operating infrastructure budget</div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>4) Value-Based Pricing Narrator</h2>
        <p class="muted">
          Tune capture rate and confidence in front of prospects. Then tie the recommendation to a MatterOS tier.
        </p>

        <div class="sim-grid">
          <div class="panel">
            <div class="field">
              <label for="captureRange">Value capture rate <output id="captureOut"></output></label>
              <input id="captureRange" type="range" min="8" max="50" step="1" value="24" />
            </div>
            <div class="field">
              <label for="confidenceRange">Execution confidence multiplier <output id="confidenceOut"></output></label>
              <input id="confidenceRange" type="range" min="60" max="100" step="1" value="84" />
            </div>

            <div class="calc">
              <div class="k">Recommended annual anchor</div>
              <div id="priceAnchor" class="v">$175,000</div>
              <div id="anchorNote" class="note"></div>
            </div>
          </div>

          <div class="panel">
            <div id="tierList" class="tier-list"></div>
            <div class="callout">
              <h3>Founding offer narrative</h3>
              <p id="foundingNarrative"></p>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>5) Partner-Specific Talk Tracks</h2>
        <p class="muted">Choose your listener and use the matching 30-second narrative.</p>

        <div id="trackPills" class="track-pills"></div>
        <div class="talk-track">
          <h3 id="trackTitle">Managing Partner (Skeptical)</h3>
          <p id="trackText"></p>
        </div>

        <p class="footer">
          Research basis: MatterOS competitive pricing brief (March 1, 2026). Use these models for sales education and
          client strategy conversations; final terms remain proposal-specific.
        </p>
      </section>
    </main>

    <script>
      function formatMoney(value) {
        return new Intl.NumberFormat("en-US", {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0
        }).format(value);
      }

      function formatNumber(value) {
        return new Intl.NumberFormat("en-US").format(Math.round(value));
      }

      const mattersRange = document.getElementById("mattersRange");
      const feeRange = document.getElementById("feeRange");
      const sensitiveRange = document.getElementById("sensitiveRange");
      const incidentRateRange = document.getElementById("incidentRateRange");
      const incidentCostRange = document.getElementById("incidentCostRange");

      const mattersOut = document.getElementById("mattersOut");
      const feeOut = document.getElementById("feeOut");
      const sensitiveOut = document.getElementById("sensitiveOut");
      const incidentRateOut = document.getElementById("incidentRateOut");
      const incidentCostOut = document.getElementById("incidentCostOut");

      const atRiskMatters = document.getElementById("atRiskMatters");
      const incidentsPerYear = document.getElementById("incidentsPerYear");
      const firefightingHours = document.getElementById("firefightingHours");
      const preventableExposure = document.getElementById("preventableExposure");

      const incidentBar = document.getElementById("incidentBar");
      const reworkBar = document.getElementById("reworkBar");
      const timeBar = document.getElementById("timeBar");
      const incidentBarValue = document.getElementById("incidentBarValue");
      const reworkBarValue = document.getElementById("reworkBarValue");
      const timeBarValue = document.getElementById("timeBarValue");

      let exposureModel = {
        totalExposure: 0,
        incidentLoss: 0,
        reworkLoss: 0,
        timeLoss: 0,
        matters: 0
      };

      function updatePainModel() {
        const matters = Number(mattersRange.value);
        const avgFee = Number(feeRange.value);
        const sensitiveShare = Number(sensitiveRange.value) / 100;
        const incidentRate = Number(incidentRateRange.value);
        const incidentCost = Number(incidentCostRange.value);

        const atRisk = Math.round(matters * sensitiveShare);
        const incidents = (matters / 100) * incidentRate;
        const incidentLoss = incidents * incidentCost;

        const reworkLoss = atRisk * avgFee * 0.08;

        const partnerHours = incidents * 14 + atRisk * 0.45;
        const timeLoss = partnerHours * 520;

        const totalExposure = incidentLoss + reworkLoss + timeLoss;

        exposureModel = {
          totalExposure,
          incidentLoss,
          reworkLoss,
          timeLoss,
          matters
        };

        mattersOut.textContent = formatNumber(matters);
        feeOut.textContent = formatMoney(avgFee);
        sensitiveOut.textContent = `${Math.round(sensitiveShare * 100)}%`;
        incidentRateOut.textContent = `${incidentRate} / 100`;
        incidentCostOut.textContent = formatMoney(incidentCost);

        atRiskMatters.textContent = formatNumber(atRisk);
        incidentsPerYear.textContent = formatNumber(incidents);
        firefightingHours.textContent = `${formatNumber(partnerHours)} hrs`;
        preventableExposure.textContent = formatMoney(totalExposure);

        const maxPart = Math.max(incidentLoss, reworkLoss, timeLoss, 1);
        incidentBar.style.width = `${(incidentLoss / maxPart) * 100}%`;
        reworkBar.style.width = `${(reworkLoss / maxPart) * 100}%`;
        timeBar.style.width = `${(timeLoss / maxPart) * 100}%`;

        incidentBarValue.textContent = formatMoney(incidentLoss);
        reworkBarValue.textContent = formatMoney(reworkLoss);
        timeBarValue.textContent = formatMoney(timeLoss);

        updatePricingNarrator();
      }

      const controls = [
        {
          trigger: "Policy shift is discovered after case clearance",
          control: "Immutable policy snapshots + event ledger",
          outcome: "Partners can immediately explain why prior decisions were reasonable at decision time."
        },
        {
          trigger: "Matters sit in silent risk states before deadlines",
          control: "Command Bridge exposure states and escalation rails",
          outcome: "Risks surface while they are still manageable, reducing emergency interventions."
        },
        {
          trigger: "Team interpretation diverges across offices",
          control: "Shared stage machine with rule-aware workflow gates",
          outcome: "Decision consistency improves, lowering variance and partner review overhead."
        },
        {
          trigger: "Client asks why a decision changed from last month",
          control: "Matter-linked snapshot lineage and timeline evidence",
          outcome: "Faster, defensible client communication and stronger trust during policy volatility."
        }
      ];

      const controlsList = document.getElementById("controlsList");
      const controlTitle = document.getElementById("controlTitle");
      const controlBody = document.getElementById("controlBody");

      function renderControls(activeIndex = 0) {
        controlsList.innerHTML = "";

        controls.forEach((item, index) => {
          const button = document.createElement("button");
          button.type = "button";
          button.className = `control${index === activeIndex ? " active" : ""}`;
          button.innerHTML = `
            <div class="title"><strong>Trigger:</strong> ${item.trigger}</div>
            <div class="meta"><strong>MatterOS control:</strong> ${item.control}</div>
          `;

          button.addEventListener("click", () => {
            controlTitle.textContent = item.trigger;
            controlBody.textContent = `${item.control}. Result: ${item.outcome}`;
            renderControls(index);
          });

          controlsList.appendChild(button);
        });

        const selected = controls[activeIndex];
        controlTitle.textContent = selected.trigger;
        controlBody.textContent = `${selected.control}. Result: ${selected.outcome}`;
      }

      const captureRange = document.getElementById("captureRange");
      const confidenceRange = document.getElementById("confidenceRange");
      const captureOut = document.getElementById("captureOut");
      const confidenceOut = document.getElementById("confidenceOut");
      const priceAnchor = document.getElementById("priceAnchor");
      const anchorNote = document.getElementById("anchorNote");
      const tierList = document.getElementById("tierList");
      const foundingNarrative = document.getElementById("foundingNarrative");

      const tiers = [
        { name: "Essential", min: 25000, max: 50000, who: "Solo or small teams" },
        { name: "Professional", min: 75000, max: 130000, who: "Growing partner groups" },
        { name: "Enterprise", min: 150000, max: 260000, who: "Multi-office operations" },
        { name: "Mission-Critical", min: 300000, max: 500000, who: "High-exposure firms" }
      ];

      function chooseTier(price, matters) {
        if (price >= 300000 || matters > 2200) return "Mission-Critical";
        if (price >= 150000 || matters > 1100) return "Enterprise";
        if (price >= 75000 || matters > 380) return "Professional";
        return "Essential";
      }

      function updatePricingNarrator() {
        const capture = Number(captureRange.value) / 100;
        const confidence = Number(confidenceRange.value) / 100;
        const recommended = Math.round(exposureModel.totalExposure * capture * confidence);

        captureOut.textContent = `${Math.round(capture * 100)}%`;
        confidenceOut.textContent = `${Math.round(confidence * 100)}%`;
        priceAnchor.textContent = formatMoney(recommended);

        const selectedTier = chooseTier(recommended, exposureModel.matters);
        anchorNote.textContent = `Modeled from ${formatMoney(exposureModel.totalExposure)} annual preventable exposure at ${Math.round(
          capture * 100
        )}% capture and ${Math.round(confidence * 100)}% confidence.`;

        tierList.innerHTML = "";
        tiers.forEach((tier) => {
          const el = document.createElement("div");
          el.className = `tier${tier.name === selectedTier ? " active" : ""}`;
          el.innerHTML = `<span><strong>${tier.name}</strong> - ${tier.who}</span><span>${formatMoney(tier.min)}-${formatMoney(
            tier.max
          )}</span>`;
          tierList.appendChild(el);
        });

        const foundingPrice = 12500;
        const futureAnchor = Math.max(recommended, 75000);
        const discount = Math.round(((futureAnchor - foundingPrice) / futureAnchor) * 100);

        foundingNarrative.textContent = `${formatMoney(
          foundingPrice
        )} positions as an early-design partnership at ${discount}% below a ${formatMoney(
          futureAnchor
        )} risk-infrastructure anchor, not as a discounted productivity subscription.`;
      }

      const tracks = [
        {
          title: "Managing Partner (Skeptical)",
          text:
            "You already own software for organizing matters. The unresolved problem is decision risk under policy volatility. MatterOS gives you evidence-grade control over why decisions were made, when risk was surfaced, and how fast the team acted before exposure escalated."
        },
        {
          title: "Practice Group Lead",
          text:
            "Your team loses time when guidance shifts and every attorney interprets impact differently. MatterOS standardizes decision flow and escalation, so policy changes become controlled operational updates instead of cross-office confusion and rework."
        },
        {
          title: "Operations Director",
          text:
            "Today, risk discovery is late and fragmented. MatterOS creates one command bridge that flags sensitive matters early, tracks stage integrity, and leaves an immutable ledger your team can use instantly for internal review or client explanations."
        }
      ];

      const trackPills = document.getElementById("trackPills");
      const trackTitle = document.getElementById("trackTitle");
      const trackText = document.getElementById("trackText");

      function renderTracks(active = 0) {
        trackPills.innerHTML = "";
        tracks.forEach((track, index) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = `pill${index === active ? " active" : ""}`;
          btn.textContent = track.title;
          btn.addEventListener("click", () => {
            trackTitle.textContent = track.title;
            trackText.textContent = track.text;
            renderTracks(index);
          });
          trackPills.appendChild(btn);
        });

        trackTitle.textContent = tracks[active].title;
        trackText.textContent = tracks[active].text;
      }

      function toggleTheme() {
        const html = document.documentElement;
        const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
        html.setAttribute("data-theme", next);
      }

      [mattersRange, feeRange, sensitiveRange, incidentRateRange, incidentCostRange].forEach((input) => {
        input.addEventListener("input", updatePainModel);
      });

      captureRange.addEventListener("input", updatePricingNarrator);
      confidenceRange.addEventListener("input", updatePricingNarrator);
      document.getElementById("themeBtn").addEventListener("click", toggleTheme);

      renderControls(0);
      renderTracks(0);
      updatePainModel();
    </script>
  </body>
</html>
